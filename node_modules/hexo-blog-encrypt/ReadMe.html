
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>hexo-blog-encrypt &#8212; book1</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'node_modules/hexo-blog-encrypt/ReadMe';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="book1 - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="book1 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    R语言学习笔记
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../chapter1.html">一、R语言基础知识</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapter2.html">最小二乘(OLS)回归</a></li>


<li class="toctree-l1"><a class="reference internal" href="../../markdown-notebooks.html">Notebooks with MyST Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E8%BF%99%E6%98%AF%E7%AC%AC%E5%9B%9B%E7%AB%A0.html">这是第四章</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fnode_modules/hexo-blog-encrypt/ReadMe.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/node_modules/hexo-blog-encrypt/ReadMe.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>hexo-blog-encrypt</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-this">What’s this</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#features">Features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#online-demo">Online demo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install">Install</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start">Quick start</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#password-priority">Password Priority</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-settings">Advanced settings</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#in-post-s-front-matter">in post’s front matter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#in-config-yml">In <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#to-disable-tag-encryption">To disable tag encryption</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#config-priority">Config priority</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#about-callback">About Callback</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#after-decrypt-event">After Decrypt Event</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encrypt-toc">Encrypt TOC</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#disable-logging">Disable logging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encrypt-theme">Encrypt Theme</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">In post’s front matter</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">In <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#license">License</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#thanks">Thanks</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="hexo-blog-encrypt">
<h1>hexo-blog-encrypt<a class="headerlink" href="#hexo-blog-encrypt" title="Link to this heading">#</a></h1>
<p><img alt="GitHub release (latest SemVer including pre-releases)" src="https://img.shields.io/github/v/release/D0n9x1n/hexo-blog-encrypt?include_prereleases" />
<a class="reference external" href="https://scrutinizer-ci.com/g/MikeCoder/hexo-blog-encrypt/build-status/master"><img alt="Build Status" src="https://scrutinizer-ci.com/g/MikeCoder/hexo-blog-encrypt/badges/build.png?b=master" /></a>
<a class="reference external" href="https://scrutinizer-ci.com/g/MikeCoder/hexo-blog-encrypt/?branch=master"><img alt="Scrutinizer Code Quality" src="https://scrutinizer-ci.com/g/MikeCoder/hexo-blog-encrypt/badges/quality-score.png?b=master" /></a></p>
<p><a class="reference internal" href="ReadMe.zh.html"><span class="std std-doc">中文说明</span></a></p>
<section id="what-s-this">
<h2>What’s this<a class="headerlink" href="#what-s-this" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>~~First of all, the <strong>BEST</strong> post encryption plugin in the universe for hexo.(But what about the other plugins?)~~</p></li>
<li><p>It is for those who write a post, but don’t want everyone to read it. Thus, password is required in certain pages to access these encrypted posts.</p></li>
<li><p>Encryption is simple on wordpress, emlog or other blog systems, except hexo. :(</p></li>
<li><p>So it’s “hexo-blog-encrypt“‘s time.</p></li>
</ul>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Once you enter the correct password, you can get the access to encrypted posts, and the password is remembered locally. Press the button again, and the stored password will be erased. If there’re scripts in the post, they will be executed once the post is decrypted.</p></li>
<li><p>Support preset tag-specified password.</p></li>
<li><p>All functions are provided by the native APIs. We use <a class="reference external" href="https://nodejs.org/dist/latest-v12.x/docs/api/crypto.html">Crypto</a> in Node.js, and use <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API">Web Crypto API</a> in Browsers.</p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc2898">PBKDF2</a>, <a class="reference external" href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">SHA256</a> is used to derive keys, We use <a class="reference external" href="https://csrc.nist.gov/publications/detail/sp/800-38a/final">AES256-CBC</a> to encrypt and decrypt data, we also use <a class="reference external" href="https://csrc.nist.gov/csrc/media/publications/fips/198/1/final/documents/fips-198-1_final.pdf">HMAC</a> to verify message authentication codes to make sure the posts are decrypted well and not modified.</p></li>
<li><p>Promise is widely used to make sure our main procedures are asynchronous, so that there is little chance for the process to be blocked, and the experience will be more fluent.</p></li>
<li><p>Template theme supported, you can use [<code class="docutils literal notranslate"><span class="pre">default</span></code>, <code class="docutils literal notranslate"><span class="pre">blink</span></code>, <code class="docutils literal notranslate"><span class="pre">flip</span></code>, <code class="docutils literal notranslate"><span class="pre">shrink</span></code>, <code class="docutils literal notranslate"><span class="pre">surge</span></code>, <code class="docutils literal notranslate"><span class="pre">up</span></code>, <code class="docutils literal notranslate"><span class="pre">wave</span></code>, <code class="docutils literal notranslate"><span class="pre">xray</span></code>] to set up your template theme, and <a class="reference external" href="https://mhexo.github.io/tags/ThemeTests/">CHECK ONLINE</a>.</p></li>
<li><p>Outdated browsers may not work well. In such case, please upgrade your browser.</p></li>
</ul>
</section>
<section id="online-demo">
<h2>Online demo<a class="headerlink" href="#online-demo" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>See <a class="reference external" href="https://mhexo.github.io/">Demo Page</a>, <strong>all passwords are <code class="docutils literal notranslate"><span class="pre">hello</span></code></strong>.</p></li>
</ul>
</section>
<section id="install">
<h2>Install<a class="headerlink" href="#install" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">--save</span> <span class="pre">hexo-blog-encrypt</span></code></p></li>
<li><p>or <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">add</span> <span class="pre">hexo-blog-encrypt</span></code> (require <a class="reference external" href="https://yarnpkg.com/en/">Yarn</a>)</p></li>
</ul>
</section>
<section id="quick-start">
<h2>Quick start<a class="headerlink" href="#quick-start" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Add the “password” value to your post’s front matter like:</p></li>
</ul>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
title: Hello World
date: 2016-03-30 21:18:02
<span class="gu">password: hello</span>
<span class="gu">---</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Then use <code class="docutils literal notranslate"><span class="pre">hexo</span> <span class="pre">clean</span> <span class="pre">&amp;&amp;</span> <span class="pre">hexo</span> <span class="pre">g</span> <span class="pre">&amp;&amp;</span> <span class="pre">hexo</span> <span class="pre">s</span></code> to see your encrypted post locally.</p></li>
</ul>
</section>
<section id="password-priority">
<h2>Password Priority<a class="headerlink" href="#password-priority" title="Link to this heading">#</a></h2>
<p>post’s front matter &gt; encrypt tags</p>
</section>
<section id="advanced-settings">
<h2>Advanced settings<a class="headerlink" href="#advanced-settings" title="Link to this heading">#</a></h2>
<section id="in-post-s-front-matter">
<h3>in post’s front matter<a class="headerlink" href="#in-post-s-front-matter" title="Link to this heading">#</a></h3>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
title: Hello World
tags:
<span class="k">-</span><span class="w"> </span>encryptAsDiary
date: 2016-03-30 21:12:21
password: mikemessi
abstract: Here&#39;s something encrypted, password is required to continue reading.
message: Hey, password is required here.
wrong_pass_message: Oh, this is an invalid password. Check and try again, please.
<span class="gu">wrong_hash_message: Oh, these decrypted content cannot be verified, but you can still have a look.</span>
<span class="gu">---</span>
</pre></div>
</div>
</section>
<section id="in-config-yml">
<h3>In <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code><a class="headerlink" href="#in-config-yml" title="Link to this heading">#</a></h3>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Link to this heading">#</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Security</span>
<span class="nt">encrypt</span><span class="p">:</span><span class="w"> </span><span class="c1"># hexo-blog-encrypt</span>
<span class="w">  </span><span class="nt">abstract</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Here&#39;s something encrypted, password is required to continue reading.</span>
<span class="w">  </span><span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Hey, password is required here.</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">encryptAsDiary</span><span class="p p-Indicator">,</span><span class="nt"> password</span><span class="p">:</span><span class="w"> </span><span class="nv">passwordA</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">encryptAsTips</span><span class="p p-Indicator">,</span><span class="nt"> password</span><span class="p">:</span><span class="w"> </span><span class="nv">passwordB</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="nt">wrong_pass_message</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Oh, this is an invalid password. Check and try again, please.</span>
<span class="w">  </span><span class="nt">wrong_hash_message</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Oh, these decrypted content cannot be verified, but you can still have a look.</span>
</pre></div>
</div>
</section>
<section id="to-disable-tag-encryption">
<h4>To disable tag encryption<a class="headerlink" href="#to-disable-tag-encryption" title="Link to this heading">#</a></h4>
<p>Just set the <code class="docutils literal notranslate"><span class="pre">password</span></code> property in front matter to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="n">title</span><span class="p">:</span> <span class="n">Callback</span> <span class="n">Test</span>
<span class="n">date</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">21</span> <span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">07</span>
<span class="n">tags</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">A</span> <span class="n">Tag</span> <span class="n">should</span> <span class="n">be</span> <span class="n">encrypted</span>
<span class="n">password</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
<span class="o">---</span>

<span class="n">Use</span> <span class="n">a</span> <span class="s2">&quot;&quot;</span> <span class="n">to</span> <span class="n">disable</span> <span class="n">tag</span> <span class="n">encryption</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="config-priority">
<h3>Config priority<a class="headerlink" href="#config-priority" title="Link to this heading">#</a></h3>
<p>post’s front matter &gt; <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code> (in the root directory) &gt; default</p>
</section>
<section id="about-callback">
<h3>About Callback<a class="headerlink" href="#about-callback" title="Link to this heading">#</a></h3>
<p>In some blogs, some elements may not be displayed normally after decryption. This is a known issue. The current solution is to check the code in your blog to learn which functions are called when the onload event occurs.
Then write these code at the end of your post. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="n">title</span><span class="p">:</span> <span class="n">Callback</span> <span class="n">Test</span>
<span class="n">date</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">21</span> <span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">07</span>
<span class="n">tags</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">Encrypted</span>
<span class="o">---</span>

<span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">blog</span> <span class="n">to</span> <span class="n">test</span> <span class="n">Callback</span> <span class="n">functions</span><span class="o">.</span> <span class="n">You</span> <span class="n">just</span> <span class="n">need</span> <span class="n">to</span> <span class="n">add</span> <span class="n">code</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">your</span> <span class="n">post</span> <span class="k">as</span> <span class="n">follows</span><span class="p">:</span>

<span class="n">It</span> <span class="n">will</span> <span class="n">be</span> <span class="n">called</span> <span class="n">after</span> <span class="n">the</span> <span class="n">blog</span> <span class="ow">is</span> <span class="n">decrypted</span><span class="o">.</span>

<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
    <span class="o">//</span> <span class="n">add</span> <span class="n">script</span> <span class="n">tag</span> <span class="ow">and</span> <span class="n">code</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">your</span> <span class="n">post</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Demo: <a class="reference external" href="https://mhexo.github.io/2020/12/06/Callback-Test/">Callback Example</a>.</p>
</section>
<section id="after-decrypt-event">
<h3>After Decrypt Event<a class="headerlink" href="#after-decrypt-event" title="Link to this heading">#</a></h3>
<p>Thanks to &#64;<a class="reference external" href="https://github.com/f-dong">f-dong</a>, we now will trigger a event named <code class="docutils literal notranslate"><span class="pre">hexo-blog-decrypt</span></code>, so you can add a call back to listen to that event.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">trigger</span> <span class="n">event</span>
<span class="n">var</span> <span class="n">event</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Event</span><span class="p">(</span><span class="s1">&#39;hexo-blog-decrypt&#39;</span><span class="p">);</span>
<span class="n">window</span><span class="o">.</span><span class="n">dispatchEvent</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="encrypt-toc">
<h3>Encrypt TOC<a class="headerlink" href="#encrypt-toc" title="Link to this heading">#</a></h3>
<p>If you has a post with TOC, you should change the code of your template. Take the default theme ‘landscape’ as an example:</p>
<ul class="simple">
<li><p>You should find the <code class="docutils literal notranslate"><span class="pre">article.ejs</span></code> file located at <code class="docutils literal notranslate"><span class="pre">hexo/themes/landscape/layout/_partial/article.ejs</span></code>.</p></li>
<li><p>Find the code like &lt;% post.content %&gt;, which is usually at line 30.</p></li>
<li><p>Replace the &lt;% post.content %&gt; with the following code block:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;%</span> <span class="k">if</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">toc</span> <span class="o">==</span> <span class="n">true</span><span class="p">){</span> <span class="o">%&gt;</span>
  <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;toc-div&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;toc-article&quot;</span> <span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">encrypt</span> <span class="o">==</span> <span class="n">true</span><span class="p">)</span> <span class="p">{</span> <span class="o">%&gt;</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;display:none&quot;</span> <span class="o">&lt;%</span> <span class="p">}</span> <span class="o">%&gt;&gt;</span>
    <span class="o">&lt;</span><span class="n">strong</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;toc-title&quot;</span><span class="o">&gt;</span><span class="n">Index</span><span class="o">&lt;/</span><span class="n">strong</span><span class="o">&gt;</span>
      <span class="o">&lt;%</span> <span class="k">if</span> <span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">encrypt</span> <span class="o">==</span> <span class="n">true</span><span class="p">)</span> <span class="p">{</span> <span class="o">%&gt;</span>
        <span class="o">&lt;%-</span> <span class="n">toc</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">origin</span><span class="p">,</span> <span class="p">{</span><span class="n">list_number</span><span class="p">:</span> <span class="n">true</span><span class="p">})</span> <span class="o">%&gt;</span>
      <span class="o">&lt;%</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="o">%&gt;</span>
        <span class="o">&lt;%-</span> <span class="n">toc</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="p">{</span><span class="n">list_number</span><span class="p">:</span> <span class="n">true</span><span class="p">})</span> <span class="o">%&gt;</span>
      <span class="o">&lt;%</span> <span class="p">}</span> <span class="o">%&gt;</span>
  <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;%</span> <span class="p">}</span> <span class="o">%&gt;</span>
<span class="o">&lt;%-</span> <span class="n">post</span><span class="o">.</span><span class="n">content</span> <span class="o">%&gt;</span>
</pre></div>
</div>
</section>
<section id="disable-logging">
<h3>Disable logging<a class="headerlink" href="#disable-logging" title="Link to this heading">#</a></h3>
<p>If you want to disable the logging, you can add a silent property in <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code> and set it to true.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Security</span>
<span class="nt">encrypt</span><span class="p">:</span><span class="w"> </span><span class="c1"># hexo-blog-encrypt</span>
<span class="w">  </span><span class="nt">silent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>This would disable the logging like <code class="docutils literal notranslate"><span class="pre">INFO</span>&#160; <span class="pre">hexo-blog-encrypt:</span> <span class="pre">encrypting</span> <span class="pre">&quot;{Blog</span> <span class="pre">Name}&quot;</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">Tag:</span> <span class="pre">&quot;EncryptedTag&quot;.</span></code>.</p>
</section>
<section id="encrypt-theme">
<h3>Encrypt Theme<a class="headerlink" href="#encrypt-theme" title="Link to this heading">#</a></h3>
<p>Previously, we use <code class="docutils literal notranslate"><span class="pre">template</span></code> to let users modify their own themes. Turn out that it’s not a simple way. So, we are introducing this feature here.</p>
<p>You can simply use <code class="docutils literal notranslate"><span class="pre">theme</span></code> in <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code> or in header like:</p>
<section id="id1">
<h4>In post’s front matter<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
title: Theme test
date: 2019-12-21 11:54:07
tags:
<span class="w">    </span><span class="k">-</span><span class="w"> </span>A Tag should be encrypted
theme: xray
<span class="gu">password: &quot;hello&quot;</span>
<span class="gu">---</span>
</pre></div>
</div>
</section>
<section id="id2">
<h4>In <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code><a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<p>This would be a default one.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Security</span>
<span class="nt">encrypt</span><span class="p">:</span><span class="w"> </span><span class="c1"># hexo-blog-encrypt</span>
<span class="w">  </span><span class="nt">abstract</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Here&#39;s something encrypted, password is required to continue reading.</span>
<span class="w">  </span><span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Hey, password is required here.</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">encryptAsDiary</span><span class="p p-Indicator">,</span><span class="nt"> password</span><span class="p">:</span><span class="w"> </span><span class="nv">passwordA</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">encryptAsTips</span><span class="p p-Indicator">,</span><span class="nt"> password</span><span class="p">:</span><span class="w"> </span><span class="nv">passwordB</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="nt">theme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xray</span>
<span class="w">  </span><span class="nt">wrong_pass_message</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Oh, this is an invalid password. Check and try again, please.</span>
<span class="w">  </span><span class="nt">wrong_hash_message</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Oh, these decrypted content cannot be verified, but you can still have a look.</span>
</pre></div>
</div>
<p>Check them online, and PICK one:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Default/">default</a></p></li>
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Blink/">blink</a></p></li>
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Shrink/">shrink</a></p></li>
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Flip/">flip</a></p></li>
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Up/">up</a></p></li>
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Surge/">surge</a></p></li>
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Wave/">wave</a></p></li>
<li><p><a class="reference external" href="https://mhexo.github.io/2020/12/23/Theme-Test-Xray/">xray</a></p></li>
</ul>
</section>
</section>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Link to this heading">#</a></h2>
<p>See <a class="reference download internal" download="" href="../../_downloads/c28cb63f460fe3cb3ce3e7302d14b9de/LICENSE"><span class="xref download myst">LICENSE</span></a> file.</p>
</section>
<section id="thanks">
<h2>Thanks<a class="headerlink" href="#thanks" title="Link to this heading">#</a></h2>
<p>Collaborator - <a class="reference external" href="https://github.com/xiazeyu">xiazeyu</a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./node_modules\hexo-blog-encrypt"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-s-this">What’s this</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#features">Features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#online-demo">Online demo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install">Install</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start">Quick start</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#password-priority">Password Priority</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-settings">Advanced settings</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#in-post-s-front-matter">in post’s front matter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#in-config-yml">In <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#to-disable-tag-encryption">To disable tag encryption</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#config-priority">Config priority</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#about-callback">About Callback</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#after-decrypt-event">After Decrypt Event</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encrypt-toc">Encrypt TOC</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#disable-logging">Disable logging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encrypt-theme">Encrypt Theme</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">In post’s front matter</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">In <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#license">License</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#thanks">Thanks</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>